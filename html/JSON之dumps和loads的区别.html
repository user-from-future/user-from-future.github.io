<html>
 <head>
  <title>
   JSON之dumps和loads的区别
  </title>
  <link data-noprefix="" href="prism.css" rel="stylesheet">
  <style>
   a{
    color: black;
    text-decoration: none;
}
a:hover{
    color: blue;
}
ul{
    list-style: none;
}
#catalogue {
    top: 10px;
    right: 10px;
    z-index: 1;
    padding: 5px 10px;
    position: absolute;
    border: 1px solid blue;
    background-color: white;
}
  </style>
 </head>
 <body>
  <h1>
   <a>
    JSON之dumps和loads的区别
   </a>
  </h1>
  <ul id="catalogue">
   <li title="返回目录">
    <a href="/html">
     返回目录
    </a>
   </li>
   <li title="Python 编码为 JSON 类型转换对应表：">
    <a href="#user-content-python-编码为-json-类型转换对应表">
     Python 编码为 JSON 类型转换对应表：
    </a>
   </li>
   <li title="JSON 解码为 Python 类型转换对应表：">
    <a href="#user-content-json-解码为-python-类型转换对应表">
     JSON 解码为 Python 类型转换对应表：
    </a>
   </li>
   <li title="json.loads 实例">
    <a href="#user-content-jsonloads-实例">
     json.loads 实例
    </a>
   </li>
   <li title="json.dumps 实例">
    <a href="#user-content-jsondumps-实例">
     json.dumps 实例
    </a>
   </li>
  </ul>
  <p>
   大家好，这段时间一直在说python爬虫相关知识，今天给大家说说json吧，大家可能是又熟悉又陌生，熟悉的是见过，陌生的是不会用。
  </p>
  <p>
   一般在python中我们用json解析数据，我们今天简明扼要的说一下。
  </p>
  <p>
   JSON (JavaScript Object Notation) 是一种轻量级的数据交换格式。
  </p>
  <p>
   Python3 中可以使用 json 模块来对 JSON 数据进行编解码，它包含了两个函数：
  </p>
  <ul>
   <li>
    <strong>
     json.dumps():
    </strong>
    对数据进行编码。
   </li>
   <li>
    <strong>
     json.loads():
    </strong>
    对数据进行解码。
   </li>
  </ul>
  <p>
   <img alt="" src="https://img-blog.csdnimg.cn/fcdfc8b6837c4c33bccc1241909c0ec4.png" style="max-width: 100%;">
  </p>
  <p>
   在 json 的编解码过程中，Python 的原始类型与 json 类型会相互转换，具体的转化对照如下：
  </p>
  <h3>
   <a aria-hidden="true" class="anchor" href="#python-编码为-json-类型转换对应表" id="user-content-python-编码为-json-类型转换对应表">
    <span aria-hidden="true" class="octicon octicon-link">
    </span>
   </a>
   Python 编码为 JSON 类型转换对应表：
  </h3>
  <table>
   <thead>
    <tr>
     <th>
      Python
     </th>
     <th>
      JSON
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      dict
     </td>
     <td>
      object
     </td>
    </tr>
    <tr>
     <td>
      list, tuple
     </td>
     <td>
      array
     </td>
    </tr>
    <tr>
     <td>
      str
     </td>
     <td>
      string
     </td>
    </tr>
    <tr>
     <td>
      int, float, int- &amp; float-derived Enums
     </td>
     <td>
      number
     </td>
    </tr>
    <tr>
     <td>
      True
     </td>
     <td>
      true
     </td>
    </tr>
    <tr>
     <td>
      False
     </td>
     <td>
      false
     </td>
    </tr>
    <tr>
     <td>
      None
     </td>
     <td>
      null
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <a aria-hidden="true" class="anchor" href="#json-解码为-python-类型转换对应表" id="user-content-json-解码为-python-类型转换对应表">
    <span aria-hidden="true" class="octicon octicon-link">
    </span>
   </a>
   JSON 解码为 Python 类型转换对应表：
  </h3>
  <table>
   <thead>
    <tr>
     <th>
      JSON
     </th>
     <th>
      Python
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      object
     </td>
     <td>
      dict
     </td>
    </tr>
    <tr>
     <td>
      array
     </td>
     <td>
      list
     </td>
    </tr>
    <tr>
     <td>
      string
     </td>
     <td>
      str
     </td>
    </tr>
    <tr>
     <td>
      number (int)
     </td>
     <td>
      int
     </td>
    </tr>
    <tr>
     <td>
      number (real)
     </td>
     <td>
      float
     </td>
    </tr>
    <tr>
     <td>
      true
     </td>
     <td>
      True
     </td>
    </tr>
    <tr>
     <td>
      false
     </td>
     <td>
      False
     </td>
    </tr>
    <tr>
     <td>
      null
     </td>
     <td>
      None
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   大家看了可能也看不懂，我们通过几个具体实了解一下。
  </p>
  <h3>
   <a aria-hidden="true" class="anchor" href="#jsonloads-实例" id="user-content-jsonloads-实例">
    <span aria-hidden="true" class="octicon octicon-link">
    </span>
   </a>
   json.loads 实例
  </h3>
  <pre class="line-numbers"><code class="language-python"><span class="token keyword">import</span> json
 
<span class="token comment"># Python 字典类型转换为 JSON 对象</span>
data1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'no'</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">'name'</span> <span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span>
    <span class="token string">'url'</span> <span class="token punctuation">:</span> <span class="token string">'http://www.runoob.com'</span>
<span class="token punctuation">}</span>
 
json_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Python 原始数据："</span><span class="token punctuation">,</span> <span class="token builtin">repr</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"JSON 对象："</span><span class="token punctuation">,</span> json_str<span class="token punctuation">)</span>
 
<span class="token comment"># 将 JSON 对象转换为 Python 字典</span>
data2 <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"data2['name']: "</span><span class="token punctuation">,</span> data2<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"data2['url']: "</span><span class="token punctuation">,</span> data2<span class="token punctuation">[</span><span class="token string">'url'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
  <p>
   运行结果
  </p>
  <blockquote>
   <p>
    Python 原始数据： {'name': 'Runoob', 'no': 1, 'url': '
    <a href="http://www.runoob.com'%5C%7D" rel="nofollow">
     http://www.runoob.com'\}
    </a>
    JSON 对象： {"name": "Runoob", "no": 1, "url": "
    <a href="http://www.runoob.com%22%5C%7D" rel="nofollow">
     http://www.runoob.com"\}
    </a>
    data2['name']:  Runoob
data2['url']:
    <a href="http://www.runoob.com" rel="nofollow">
     http://www.runoob.com
    </a>
   </p>
  </blockquote>
  <p>
   一般&nbsp;&nbsp;json.loads用来解析网页的。
  </p>
  <h3>
   <a aria-hidden="true" class="anchor" href="#jsondumps-实例" id="user-content-jsondumps-实例">
    <span aria-hidden="true" class="octicon octicon-link">
    </span>
   </a>
   json.dumps 实例
  </h3>
  <pre class="line-numbers"><code class="language-python"><span class="token keyword">import</span> json
 
<span class="token comment"># Python 字典类型转换为 JSON 对象</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'no'</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">'name'</span> <span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span>
    <span class="token string">'url'</span> <span class="token punctuation">:</span> <span class="token string">'http://www.runoob.com'</span>
<span class="token punctuation">}</span>
 
json_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Python 原始数据："</span><span class="token punctuation">,</span> <span class="token builtin">repr</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"JSON 对象："</span><span class="token punctuation">,</span> json_str<span class="token punctuation">)</span></code></pre>
  <p>
   运行结果
  </p>
  <pre class="line-numbers"><code class="language-python">Python 原始数据： <span class="token punctuation">{</span><span class="token string">'url'</span><span class="token punctuation">:</span> <span class="token string">'http://www.runoob.com'</span><span class="token punctuation">,</span> <span class="token string">'no'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">}</span>
JSON 对象： <span class="token punctuation">{</span><span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"http://www.runoob.com"</span><span class="token punctuation">,</span> <span class="token string">"no"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Runoob"</span><span class="token punctuation">}</span></code></pre>
  <p>
   如果你要处理的是文件而不是字符串，你可以使用
   <strong>
    json.dump()
   </strong>
   和
   <strong>
    json.load()
   </strong>
   来编码和解码JSON数据。例如：
  </p>
  <pre class="line-numbers"><code class="language-python"><span class="token comment"># 写入 JSON 数据</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.json'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>data<span class="token punctuation">,</span> f<span class="token punctuation">)</span>
 
<span class="token comment"># 读取数据</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.json'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span></code></pre>
  <script src="prism.js">
  </script>
  <script>
   window.onscroll = function() {
    document.getElementById('catalogue').style.top = window.pageYOffset + 'px';
}
  </script>
 </body>
</html>